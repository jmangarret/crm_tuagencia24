<?php
/* * *******************************************************************************
 * The content of this file is subject to the PDF Maker Free license.
 * ("License"); You may not use this file except in compliance with the License
 * The Initial Developer of the Original Code is IT-Solutions4You s.r.o.
 * Portions created by IT-Solutions4You s.r.o. are Copyright(C) IT-Solutions4You s.r.o.
 * All Rights Reserved.
 * ****************************************************************************** */
error_reporting(0);

global $xxx22,$xxx23,$xxx24,$xxx25,$xxx26,$xxx27,$xxx28,$xxx29;

$xxx22="f\x69\154\145s\x69\x7a\x65"; $xxx23="\x66\162\x65\141\x64"; $xxx24="\146\157\x70\145n"; $xxx25="\x68e\141\144\145r"; $xxx26="\x69s_\141\162\x72a\x79"; $xxx27="\157\x62_\x63\154ea\x6e"; $xxx28="\x73\164\162p\x6f\x73"; $xxx29="\x75nl\151\x6e\x6b"; 
class PDFMaker_checkGenerate_Model extends Vtiger_Module_Model { function __construct() { global $xxx22,$xxx23,$xxx24,$xxx25,$xxx26,$xxx27,$xxx28,$xxx29; $this->log = LoggerManager::getLogger('account');}function generate(Vtiger_Request $xxx0b) { global $xxx22,$xxx23,$xxx24,$xxx25,$xxx26,$xxx27,$xxx28,$xxx29; $xxx0c = new PDFMaker_PDFMaker_Model();$xxx0d = $xxx0b->getAll();$xxx0e = PearDatabase::getInstance();$xxx0f = "\163\151\x74\x65\x5fU\122\x4c";$xxx10 = "v\x74\151g\145\162_\x63\165\162\x72e\156\164_\166\145rs\151o\156";$xxx11 = vglobal($xxx10);$xxx12 = vglobal($xxx0f);$xxx13 = $xxx0b->get('relmodule');$xxx14 = CRMEntity::getInstance($xxx13);$xxx15 = $xxx0b->get('record');$xxx16 = $xxx0b->get('mode');$xxx17 = $xxx0b->get('language');$xxx18 = $xxx0b->get('type'); $xxx19 = "";$xxx1a = $xxx0c->GetPreparedMPDF($xxx19, $xxx15, $xxx13, $xxx17);$xxx19->Output('cache/' . $xxx1a . '.pdf');@$xxx27();$xxx25('Content-Type: application/pdf');$xxx25("C\x6f\156t\x65\x6et-\154e\156gt\150\072 " . $xxx22(".\x2f\x63\141che\057$xxx1a\056\160\144f"));$xxx25("\x43\x61c\150\145-C\157\156\x74r\x6f\x6c:\040\x70\x72\151v\141\164\145");$xxx25("\103\157nt\x65n\x74\x2d\104\x69spos\151\164\x69o\x6e\x3a\040\x61tt\141\143\150\155\145\156t\x3b \146\x69\154\x65\156\x61m\145\075$xxx1a\x2epd\x66");$xxx25("\x43\157\x6eten\164-\x44\145\x73\x63r\x69p\164\x69\157\x6e\072 \120HP\x20\107\x65\156\x65\162\141\x74e\144\x20\104a\x74\141");echo $xxx23($xxx24("\x2e\x2fca\143\x68\145\x2f$xxx1a\x2e\x70d\146", "r"), $xxx22(".\x2fc\x61\x63\x68e\057$xxx1a\056pd\x66"));@$xxx29("c\141\x63\x68\x65\x2f$xxx1a.\160d\x66");}private function x0b($xxx1b) { global $xxx22,$xxx23,$xxx24,$xxx25,$xxx26,$xxx27,$xxx28,$xxx29; $xxx1c = "s\x69\x74\145\x5f\125\x52\114";$xxx1d = vglobal($xxx1c);$xxx1e = "h\164\x74\160:\x2f\x2f";require_once("mo\x64\x75l\145\163\057PDF\115\x61\153\x65r/r\145\x73\x6fu\x72\143\145\x73\057\x63\154\141sse\x73/s\151\x6d\160\154\145\137\x68\164\155\x6c_d\x6f\155\x2ep\x68\160");$xxx1f = str_get_html($xxx1b);if ($xxx26($xxx1f->find("\x69mg"))){foreach ($xxx1f->find("\151\x6d\147") as $xxx20) {if ($xxx28($xxx20->src, $xxx1e) === false) {$xxx21 = $xxx1d . "\057" . $xxx20->src;$xxx20->src = $xxx21;}}return $xxx1f->save(); } else {return $xxx1b;}} }